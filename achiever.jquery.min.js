(function(){var b,l,a,g,w,h,i=Array.prototype.slice;w={};l=function(b,a,c){var g,f,e,j;null==c&&(c=null);if("."===b)return a[a.length-1];e=b.split(/\./);b=e[0];e=2<=e.length?i.call(e,1):[];for(f=j=a.length-1;-1>=j?-1>f:-1<f;-1>=j?f+=1:f-=1)if(null!=a[f]&&"object"===typeof a[f]&&b in(g=a[f])){c=g[b];break}a=0;for(f=e.length;a<f;a++)b=e[a],c=l(b,[c]);c instanceof Function&&(c=function(a){return function(){var b;b=a.apply(g,arguments);return b instanceof Function&&b.apply(null,arguments)||b}}(c));return c};
b=function(){var b,a,c,g;c=arguments[0];g=arguments[1];b=3<=arguments.length?i.call(arguments,2):[];var f,e,j;j=[];f=0;for(e=g.length;f<e;f++)a=g[f],j.push(a.call.apply(a,[c].concat(i.call(b))));return j.join("")};g=function(a,m,c){var h,f,e,j,s,o,x,p,y,t,d,r,u,k,n,v,q;null==m&&(m=["{{","}}"]);null==c&&(c=null);s=w[f=m.join(" ")]||(w[f]={});if(a in s)return s[a];f=[];h=function(){return RegExp("([\\s\\S]*?)([ \\t]*)(?:"+m[0]+"\\s*(?:(!)\\s*([\\s\\S]+?)|(=)\\s*([\\s\\S]+?)\\s*=|({)\\s*(\\w[\\S]*?)\\s*}|([^0-9a-zA-Z._!={]?)\\s*([\\w.][\\S]*?))\\s*"+
m[1]+")","gm")};n=h();n.lastIndex=k=(c||{start:0}).start;for(u=function(b,f){var c,g,e,i,j,d,k,h;(g=/$/gm).lastIndex=b;g.exec(a);d=a.substr(0,b).split("\n");h=d.length;d=d[h-1];c=o+q.length;k=a.substr(c+1,b-c-1);i=Array(d.length-k.length+1).join(" ");c=Array(k.length+1).join("^");d+=a.substr(b,g.lastIndex-b);e=Error();for(j in g={message:""+f+"\n\nLine "+h+":\n"+d+"\n"+i+c,error:f,line:h,"char":i.length,tag:k})e[j]=g[j];return e};d=n.exec(a);){j=d.slice(1,3);e=j[0];q=j[1];j=d[3]||d[5]||d[7]||d[9];
d=d[4]||d[6]||d[8]||d[10];o=k+e.length-1;k=n.lastIndex;t=(-1===o||"\n"===a.charAt(o))&&(void 0===(r=a.charAt(k))||""===r||"\r"===r||"\n"===r);e&&f.push(function(a){return function(){return a}}(e));t&&""!==j&&"&"!==j&&"{"!==j?("\r"===a.charAt(k)&&(k+=1),"\n"===a.charAt(k)&&(k+=1)):q&&(f.push(function(a){return function(){return a}}(q)),o+=q.length,q="");switch(j){case "!":break;case "":case "&":case "{":e=function(a,c){return function(f){var e,d;if((e=null!=(d=l(a,f))?d:"")instanceof Function)e=b.apply(null,
[this,g(""+e())].concat(i.call(arguments)));c||(e=this.escape(""+e));return""+e}};f.push(e(d,j));break;case ">":j=function(a,c){return function(f,e){var d;d=e(a).toString();c&&(d=d.replace(/^(?=.)/gm,c));return b.apply(null,[this,g(d)].concat(i.call(arguments)))}};f.push(j(d,q));break;case "#":case "^":e={name:d,start:k,error:u(n.lastIndex,"Unclosed section '"+d+"'!")};t=g(a,m,e);v=t[0];k=t[1];e["#"]=function(a,c,e){return function(f){var d,j,k,h;h=l(a,f)||[];v=h instanceof Function?h(e):e;h instanceof
Array||(h=[h]);d=g(v||"",c);f.push(h);j=function(){var a,c,e;e=[];a=0;for(c=h.length;a<c;a++)k=h[a],f[f.length-1]=k,e.push(b.apply(null,[this,d].concat(i.call(arguments))));return e}.apply(this,arguments);f.pop();return j.join("")}};e["^"]=function(a,c,e){return function(f){var d;d=l(a,f)||[];d instanceof Array||(d=[1]);d=0===d.length?g(e,c):[];return b.apply(null,[this,d].concat(i.call(arguments)))}};f.push(e[j](d,m,v));break;case "/":if(null==c)p="End Section tag '"+d+"' found, but not in section!";
else if(d!==(r=c.name))p="End Section tag closes '"+d+"'; expected '"+r+"'!";if(p)throw u(n.lastIndex,p);a=a.slice(c.start,o+1||9E9);s[a]=f;return[a,k];case "=":if(2!==(m=d.split(/\s+/)).length)p="Set Delimiters tags should have two and only two values!";if(p)throw u(n.lastIndex,p);y=/[-[\]{}()*+?.,\\^$|#]/g;m=function(){var a,b,c;c=[];a=0;for(b=m.length;a<b;a++)x=m[a],c.push(x.replace(y,"\\$&"));return c}();n=h();break;default:throw u(n.lastIndex,"Unknown tag type -- "+j);}n.lastIndex=null!=k?k:
a.length}if(null!=c)throw c.error;a.length!==k&&f.push(function(){return a.slice(k)});return s[a]=f};a={VERSION:"1.2.0",helpers:[],partials:null,escape:function(a){var b;b={"&":"amp",'"':"quot","<":"lt",">":"gt"};return a.replace(/[&"<>]/g,function(a){return"&"+b[a]+";"})},render:function(a,h,c){var i;null==c&&(c=null);if(!((c||(c=this.partials||{}))instanceof Function))c=function(a){return function(b){if(!(b in a))throw"Unknown partial '"+b+"'!";return l(b,[a])}}(c);i=this.helpers instanceof Array?
this.helpers:[this.helpers];return b(this,g(a),i.concat([h]),c)}};if("undefined"!=typeof exports&&null!==exports)for(h in a)exports[h]=a[h];else this.Milk=a}).call(this);(function(b){var l={init:function(a){if(!b("body").data("achiever")){var g={type:"wow",lang:"enUS"};a&&b.extend(g,a);g.achievements.length&&(a=b("body"),a.data("achiever",!0),a.append('<ul id="achievement-list-container" class="off"/>'),a.append('<div id="achievements-container"/>'),b.getJSON("theme/"+g.type+"/theme.json",function(a){b.get("theme/"+g.type+"/achievement_item.html",function(h){b.each(g.achievements,function(){b.extend(this,{localizedStrings:a.i18n[g.lang]});b("#achievements-container").append(Milk.render(h,
this))})},"html");b.get("theme/"+g.type+"/achievement_list_item.html",function(h){b.each(g.achievements,function(){b.extend(this,{localizedStrings:a.i18n[g.lang]});b("#achievement-list-container").append(Milk.render(h,this));b.achiever("achievementInList",this.name).data("achievement",this);if(this.extended){var i=this.name;b("#"+i+"-achievement-item").click(function(a){a.preventDefault();b("#"+i+"-achievement-item").toggleClass("expand")});this.extended.progress&&b.achiever("alterProgress",i,this.extended.progress.current,
!0)}})},"html")}))}},achievement:function(a){return b("#"+a+"-achievement")},achievementInList:function(a){return b("#"+a+"-achievement-item")},show:function(a){if(!b.achiever("achieved",a))return b.achiever("achievement",a).fadeIn("slow")},achieved:function(a){return b.achiever("achievementInList",a).hasClass("achieved")},present:function(a){b.achiever("show",a);setTimeout(function(){b.achiever("hide",a)},5E3)},achieve:function(a,g){if(!b.achiever("achievement",a).is(":visible")){b("#achievements-container > :visible:last").after(b.achiever("achievement",
a));g||b.achiever("present",a);var l=b.achiever("achievementInList",a).data("achievement");return b.achiever("achievementInList",a).toggleClass("achieved",l.current==l.total)}},alterProgress:function(a,g,l){if(!b.achiever("achieved",a)){var h=b.achiever("achievementInList",a);if(0!=h.length){var i=h.data("achievement").extended.progress;l||(i.current+=g);if(i.current>=i.total||b.achiever("achieved",a))i.current=i.total,b.achiever("achieve",a,l);h.find(".progressbar-text").text(i.current+""+i.delimiter+
""+i.total);h.find(".progressbar").css("width",100*(i.current/i.total)+"%")}}},toggleList:function(){return b("#achievement-list-container").fadeToggle()},hide:function(a){return b.achiever("achievement",a).fadeOut("slow")}};b.achiever=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return l.init.apply(this,arguments);b.error("Method "+a+" does not exist on jQuery.achiever")}})(jQuery);
